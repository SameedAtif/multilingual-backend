<div data-controller="message-box" id='message-box' data-room-id="<%= room.id %>" data-user-id="<%=current_user.id%>" class="flex flex-col h-full w-full bg-white px-4 py-6">
  <div class="flex flex-row items-center py-4 px-6 rounded-2xl shadow">
    <div class="flex items-center justify-center h-10 w-10 rounded-full bg-blue-700 hover:bg-blue-800 text-white">
      <%= room.other_participant(current_user).user.name.first %>
    </div>
    <div class="flex flex-col ml-3">
      <div class="font-semibold text-sm"><%= room.other_participant(current_user).user.name %></div>
      <%# <div class="text-xs text-gray-500">Active</div> %>
    </div>
  </div>
  <div class="h-full overflow-hidden py-4">
    <div class="h-full overflow-y-auto">
      <%= turbo_stream_from "rooms_channel:#{room.id}", channel: RoomsChannel, id: room.id %>
      <div id="messages-room-<%= room.id %>" class="grid grid-cols-12 gap-y-2">
        <%= render partial: 'messages/message', collection: room.messages.order("created_at asc"), as: :message %>
      </div>
    </div>
  </div>
  <%= render partial: 'messages/form' %>
</div>
