<div class="bg-gray-50 dark:bg-gray-900 flex items-center justify-center px-6 py-8 mx-auto">
    <a href="#" class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white">
        <img class="w-8 h-8 mr-2" src="/logo_512w.png" alt="logo">
        Fluent Assist
    </a>
</div>
<section class="grid sm:grid-cols-1 md:grid-cols-2 bg-gray-50 dark:bg-gray-900">
    <div class="flex flex-col items-center px-6 py-8 mx-auto">
      <div class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700">
          <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
              <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
                  Review your Organization information
              </h1>
              <%= form_with model: @organization, local: true, html: {class:"space-y-4 md:space-y-6"} do |f| %>
                      <%= render "devise/shared/error_messages", resource: @organization %>
                  <div>
                      <%= f.label :name, "Organiztion name", class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"%>
                      <%= f.text_field :name, autofocus: true, class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white", placeholder: "Your Company name" %>
                  </div>
                  <div>
                      <%= f.label :website, "Organization website", class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"%>
                      <%= f.text_field :website, autofocus: true, class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white", placeholder: "www.your-org.com" %>
                  </div>
                  <%= f.submit "Complete Setup", class:"w-full text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-cyan-600 dark:focus:ring-cyan-700"%>
              <% end %>
          </div>
      </div>
    </div>
    <div class="flex flex-col px-6 py-8">
      <div class="bg-white rounded-lg shadow dark:border md:mt-0 xl:p-0 dark:bg-gray-800 dark:border-gray-700">
          <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
              <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
                  Add the following to your website
              </h1>
                <div class="mx-auto max-w-[100vw]">
                <!-- Code Block Container -->
                    <div class="bg-gray-900 rounded-lg p-4 relative">
                        <!-- Copy Button -->
                        <button onclick="copyCode()" class="absolute top-4 right-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md flex items-center gap-2 text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                            </svg>
                            <span id="copyButtonText">Copy</span>
                        </button>

                        <!-- Code Content -->
                        <pre class="text-gray-100 overflow-x-auto font-mono text-sm">
                            <code id="codeBlock">
&lt;script&gt;
(function(w,d,s,l,i){
    w[l]=w[l]||function(){(w[l].q=w[l].q||[]).push(arguments)};
    w[l].l=1*new Date();var a=d.createElement(s),
    m=d.getElementsByTagName(s)[0];a.async=1;a.src=i;
    m.parentNode.insertBefore(a,m)
})(window,document,'script','ChatboxWidget','/chatbox.iife.js');

// Optional: Override default settings
ChatboxWidget('init', {
    clientID: '<%= @organization.client_id %>'
});
&lt;/script&gt;
                </code>
            </pre>
        </div>
    </div>
</div>
</div>
</div>
    <!-- JavaScript for copy functionality -->
    <script>
        function copyCode() {
        const codeBlock = document.getElementById('codeBlock');
        const copyButton = document.getElementById('copyButtonText');

        // Create a temporary textarea to copy the text
        const textarea = document.createElement('textarea');
        textarea.value = codeBlock.textContent;
        document.body.appendChild(textarea);
        textarea.select();

        try {
            document.execCommand('copy');
            copyButton.textContent = 'Copied!';
            setTimeout(() => {
            copyButton.textContent = 'Copy';
            }, 2000);
        } catch (err) {
            console.error('Failed to copy text: ', err);
        }

        document.body.removeChild(textarea);
        }
    </script>
</section>
